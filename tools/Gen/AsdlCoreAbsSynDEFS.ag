-- Sun Jan 28 15:04:22 GMT Standard Time 2007

DATA AsdlSpec
  | AsdlSpec         decls            : Decls

TYPE Decls = [Decl]

DATA Decl
  | Module           name             : String
                     defs             : Definitions

TYPE Definitions = [Definition]

DATA Definition
  | Def              name             : String
                     dtype            : AsdlType

DATA AsdlType
  | Sum              constrs          : Constrs
  | Prod             fields           : Fields

TYPE Constrs = [Constr]

DATA Constr
  | Constr           label            : String
                     fields           : Fields

TYPE Fields = [Field]

DATA Field
  | Field            qual             : OptQualifier
                     ptype            : AsdlPrim
                     card             : Cardinality
                     opt_name         : OptIdentifier

TYPE OptQualifier = MAYBE String

TYPE OptIdentifier = MAYBE String

DATA AsdlPrim
  | TyUnit           
  | TyString         
  | TyInt            
  | TyIdentifier     
  | TyRef            name             : String
  | TyExternalPrim   name             : String

DATA Cardinality
  | One              
  | Zom              
  | Opt              
