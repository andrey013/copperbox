-- Mullein.Gen.SyntaxDEFS
-- Copyright   :  (c) Stephen Tetley 2009


INCLUDE "SyntaxTOP.ag"


SET Every = Motif AllBar AllUnison AllBracket AllElement AllGrace Pitches

SET AllBar        = Bars Bar
SET AllUnison     = Unisons Unison
SET AllBracket    = Brackets Bracket
SET AllElement    = Elements Element
SET AllGrace      = GraceNotes GraceNote


-- The Element datatype - represents elements with a 'unit duration'.
-- E.g a chord has a set of pitches but the unit duration is common to all 
-- of them. 
DATA Element
  | Note      pitch           : {Pitch}
              duration        : {Duration}
  | Rest      duration        : {Duration}
  | Spacer    duration        : {Duration}
  | Chord     pitches         : Pitches
              duration        : {Duration}          
  | GraceNotes 
              graces          : GraceNotes                              
        
TYPE GraceNotes = [GraceNote]
TYPE GraceNote  = (pch : Pitch, drn : Duration)
TYPE Pitches    = [Pitch]

